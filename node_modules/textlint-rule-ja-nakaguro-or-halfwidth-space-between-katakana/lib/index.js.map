{"version":3,"file":"index.js","names":["_textlintRuleHelper","require","module","exports","context","Syntax","RuleError","report","getSource","helper","RuleHelper","Str","node","isPlainStrNode","text","match","matchAll","index"],"sources":["../src/index.js"],"sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n カタカナ語間のスペースの有無\n 中黒または半角スペースを用いてカタカナ語を区切ります。\n */\nimport { RuleHelper } from \"textlint-rule-helper\";\n\nmodule.exports = function (context) {\n    const { Syntax, RuleError, report, getSource } = context;\n    const helper = new RuleHelper();\n    return {\n        [Syntax.Str](node) {\n            if (!helper.isPlainStrNode(node)) {\n                return;\n            }\n            const text = getSource(node);\n            // カタカナ(カタカナ以外)カタカナ のパターンを取り出す\n            for (const match of text.matchAll(/[ァ-ヶー]([^[ァ-ヶー])[ァ-ヶー]/g)) {\n                // カタカナの間を全角スペースでは区切らない\n                const text = match[1];\n                if (text === \"　\") {\n                    report(\n                        node,\n                        new RuleError(\"カタカナ語間は中黒（・）または半角スペースを用いてカタカナ語を区切ります\", {\n                            index: match.index + 1\n                        })\n                    );\n                }\n            }\n        }\n    };\n};\n"],"mappings":"AAAA;AACA,YAAY;;AACZ;AACA;AACA;AACA;AACA,IAAAA,mBAAA,GAAAC,OAAA;AAEAC,MAAM,CAACC,OAAO,GAAG,UAAUC,OAAO,EAAE;EAChC,IAAM;IAAEC,MAAM;IAAEC,SAAS;IAAEC,MAAM;IAAEC;EAAU,CAAC,GAAGJ,OAAO;EACxD,IAAMK,MAAM,GAAG,IAAIC,8BAAU,CAAC,CAAC;EAC/B,OAAO;IACH,CAACL,MAAM,CAACM,GAAG,EAAEC,IAAI,EAAE;MACf,IAAI,CAACH,MAAM,CAACI,cAAc,CAACD,IAAI,CAAC,EAAE;QAC9B;MACJ;MACA,IAAME,IAAI,GAAGN,SAAS,CAACI,IAAI,CAAC;MAC5B;MACA,KAAK,IAAMG,KAAK,IAAID,IAAI,CAACE,QAAQ,CAAC,yBAAyB,CAAC,EAAE;QAC1D;QACA,IAAMF,KAAI,GAAGC,KAAK,CAAC,CAAC,CAAC;QACrB,IAAID,KAAI,KAAK,GAAG,EAAE;UACdP,MAAM,CACFK,IAAI,EACJ,IAAIN,SAAS,CAAC,sCAAsC,EAAE;YAClDW,KAAK,EAAEF,KAAK,CAACE,KAAK,GAAG;UACzB,CAAC,CACL,CAAC;QACL;MACJ;IACJ;EACJ,CAAC;AACL,CAAC"}